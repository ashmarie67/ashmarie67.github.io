<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School Gallery & Events</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
    <!-- Navigation Container -->
    <div id="navigation-container"></div>

    <div class="container">
        <h1>School Media Gallery</h1>
        
        <!-- Photo Gallery Section -->
        <section class="gallery-section">
            <h2>Photo Gallery</h2>
            <div class="gallery-grid">
                <div class="gallery-item">
                    <img src="https://source.unsplash.com/random/300x200/?school,classroom" alt="Classroom activity">
                    <div class="gallery-caption">Students in classroom</div>
                </div>
                <div class="gallery-item">
                    <img src="https://source.unsplash.com/random/300x200/?school,event" alt="School event">
                    <div class="gallery-caption">Annual science fair</div>
                </div>
                <div class="gallery-item">
                    <img src="https://source.unsplash.com/random/300x200/?school,sports" alt="Sports day">
                    <div class="gallery-caption">Sports championship</div>
                </div>
                <div class="gallery-item">
                    <img src="https://source.unsplash.com/random/300x200/?school,graduation" alt="Graduation">
                    <div class="gallery-caption">Graduation ceremony</div>
                </div>
            </div>
        </section>
        
        <!-- Video Player Section -->
        <section class="video-section">
            <h2>Featured Videos</h2>
            <div class="video-player">
                <div class="main-video">
                    <video id="currentVideo" controls>
                        <source src="assets/videos/sample1.mp4" type="video/mp4">
                        Your browser does not support videos.
                    </video>
                </div>
                <div class="video-controls">
                    <button class="arrow-btn prev-btn"><i class="fas fa-chevron-left"></i></button>
                    <div class="video-tabs">
                        <div class="video-thumb active" data-video="assets/videos/sample1.mp4">
                            <img src="https://source.unsplash.com/random/120x80/?school,lecture" alt="Lecture">
                            <span>Campus Tour</span>
                        </div>
                        <div class="video-thumb" data-video="assets/videos/sample2.mp4">
                            <img src="https://source.unsplash.com/random/120x80/?school,lab" alt="Lab">
                            <span>Science Lab</span>
                        </div>
                        <div class="video-thumb" data-video="assets/videos/sample3.mp4">
                            <img src="https://source.unsplash.com/random/120x80/?school,sports" alt="Sports">
                            <span>Sports Day</span>
                        </div>
                    </div>
                    <button class="arrow-btn next-btn"><i class="fas fa-chevron-right"></i></button>
                </div>
            </div>
        </section>
        
        <!-- Events Section -->
        <section class="events-section">
            <h2>Upcoming Events</h2>
            <div class="events-grid">
                <div class="event-card">
                    <div class="event-date">
                        <span class="month">OCT</span>
                        <span class="day">15</span>
                    </div>
                    <div class="event-info">
                        <h3>Open House Day</h3>
                        <p>10:00 AM - 3:00 PM</p>
                        <p>Main Campus</p>
                    </div>
                </div>
                <div class="event-card">
                    <div class="event-date">
                        <span class="month">NOV</span>
                        <span class="day">03</span>
                    </div>
                    <div class="event-info">
                        <h3>Science Fair</h3>
                        <p>9:00 AM - 5:00 PM</p>
                        <p>Science Building</p>
                    </div>
                </div>
                <div class="event-card">
                    <div class="event-date">
                        <span class="month">DEC</span>
                        <span class="day">12</span>
                    </div>
                    <div class="event-info">
                        <h3>Winter Concert</h3>
                        <p>7:00 PM - 9:00 PM</p>
                        <p>Auditorium</p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Lightbox Modal -->
    <div id="galleryModal" class="modal">
        <span class="close-modal">&times;</span>
        <div class="modal-content">
            <img id="modalImage" src="" alt="" class="modal-media">
        </div>
    </div>

    <!-- Navigation Loader Script -->
    <script>
        // Load navigation
        fetch('./navigation.html')
            .then(response => response.text())
            .then(html => {
                document.getElementById('navigation-container').innerHTML = html;
                initNavigation();
            })
            .catch(err => {
                console.error('Error loading navigation:', err);
                document.getElementById('navigation-container').innerHTML = `
                    <div class="nav-error">
                        <a href="./" class="error-link">Home</a>
                        <a href="./login.html" class="login-btn">Login</a>
                    </div>
                `;
            });

        function initNavigation() {
            // Mobile menu toggle
            const mobileMenuToggle = document.getElementById('mobileMenuToggle');
            const mobileSideMenu = document.getElementById('mobileSideMenu');
            const overlay = document.getElementById('overlay');
            
            if (mobileMenuToggle) {
                mobileMenuToggle.addEventListener('click', () => {
                    mobileSideMenu.classList.add('active');
                    overlay.classList.add('active');
                });
            }

            document.getElementById('closeMobileMenu')?.addEventListener('click', () => {
                mobileSideMenu.classList.remove('active');
                overlay.classList.remove('active');
            });

            overlay?.addEventListener('click', () => {
                mobileSideMenu.classList.remove('active');
                overlay.classList.remove('active');
            });
        }
    </script>

    <!-- Gallery and Video Script -->
    <script>
        // Gallery Lightbox
        const galleryItems = document.querySelectorAll('.gallery-item img');
        const modal = document.getElementById('galleryModal');
        const modalImg = document.getElementById('modalImage');
        
        galleryItems.forEach(item => {
            item.addEventListener('click', () => {
                modal.style.display = "block";
                modalImg.src = item.src;
            });
        });
        
        document.querySelector('.close-modal').addEventListener('click', () => {
            modal.style.display = "none";
        });
        
        // Video Player Controls
        const videoThumbs = document.querySelectorAll('.video-thumb');
        const currentVideo = document.getElementById('currentVideo');
        const prevBtn = document.querySelector('.prev-btn');
        const nextBtn = document.querySelector('.next-btn');
        
        videoThumbs.forEach(thumb => {
            thumb.addEventListener('click', () => {
                videoThumbs.forEach(t => t.classList.remove('active'));
                thumb.classList.add('active');
                currentVideo.src = thumb.dataset.video;
                currentVideo.load();
                currentVideo.play();
            });
        });
        
        prevBtn.addEventListener('click', () => {
            const activeIndex = Array.from(videoThumbs).findIndex(t => t.classList.contains('active'));
            const prevIndex = (activeIndex - 1 + videoThumbs.length) % videoThumbs.length;
            videoThumbs[prevIndex].click();
        });
        
        nextBtn.addEventListener('click', () => {
            const activeIndex = Array.from(videoThumbs).findIndex(t => t.classList.contains('active'));
            const nextIndex = (activeIndex + 1) % videoThumbs.length;
            videoThumbs[nextIndex].click();
        });
    </script>
</body>
</html>
